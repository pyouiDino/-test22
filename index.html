<!doctype html>

<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Devine la carte â€” Jeu</title>
  <style>
    :root{--accent:#6366f1;--bg:#0f172a;--card:#1e293b;--text:#f8fafc}
    *{box-sizing:border-box;font-family:'Poppins',sans-serif;transition:all .3s ease}
    body{margin:0;min-height:100vh;background:radial-gradient(circle at center,var(--bg) 0%,#020617 100%);display:flex;align-items:center;justify-content:center;color:var(--text)}
    .container{max-width:700px;width:100%;background:rgba(255,255,255,0.05);border-radius:20px;padding:30px;box-shadow:0 0 40px rgba(99,102,241,0.3);backdrop-filter:blur(10px)}
    h1{text-align:center;margin-bottom:10px;font-size:28px;color:var(--accent);text-shadow:0 0 8px rgba(99,102,241,0.6)}
    .bet-area{text-align:center;margin-bottom:20px}
    input[type=number]{padding:10px;border-radius:10px;border:none;text-align:center;width:150px;font-size:16px}
    button{background:var(--accent);border:none;color:white;padding:12px 20px;border-radius:12px;font-weight:600;cursor:pointer;margin:5px 10px;box-shadow:0 4px 15px rgba(99,102,241,0.4)}
    button:hover{transform:scale(1.05);box-shadow:0 4px 25px rgba(99,102,241,0.6)}
    .cards{display:flex;justify-content:center;gap:20px;margin:25px 0;flex-wrap:wrap}
    .card{background:var(--card);width:110px;height:160px;border-radius:14px;display:flex;align-items:center;justify-content:center;font-size:22px;font-weight:700;cursor:pointer;position:relative;perspective:1000px;transform-style:preserve-3d}
    .card::before{content:'';position:absolute;inset:0;border-radius:14px;background:linear-gradient(135deg,#475569,#1e293b);backface-visibility:hidden}
    .card span{position:relative;z-index:2}
    .card:hover{transform:translateY(-10px) rotateY(15deg) scale(1.05)}
    .disabled{opacity:0.4;pointer-events:none}
    .deck{display:flex;align-items:center;justify-content:center;margin-top:25px}
    .hidden-card,.revealed{width:140px;height:200px;border-radius:16px;display:flex;align-items:center;justify-content:center;font-size:22px;font-weight:700;perspective:1000px;backface-visibility:hidden;box-shadow:0 0 30px rgba(99,102,241,0.3)}
    .hidden-card{background:linear-gradient(145deg,#1e293b,#0f172a);color:var(--accent);animation:pulse 2s infinite}
    @keyframes pulse{0%,100%{box-shadow:0 0 20px rgba(99,102,241,0.4)}50%{box-shadow:0 0 40px rgba(99,102,241,0.7)}}
    .revealed{background:linear-gradient(145deg,#f8fafc,#cbd5e1);color:#111;animation:none;transition:none;}
    .message{text-align:center;margin-top:25px;font-size:18px;min-height:30px;color:#cbd5e1}
  </style>
</head>
<body>
  <div class="container">
    <h1>ðŸŽ´ Devine la carte ðŸŽ´</h1>
    <div class="bet-area">
      <label for="bet">ðŸ’° Mise (min 1000) :</label>
      <input id="bet" type="number" min="1000" step="100" value="1000">
      <button id="start">DÃ©marrer</button>
      <button id="reset">RÃ©initialiser</button>
    </div><div class="cards" id="choices">
  <div class="card" data-card="Dame"><span>Dame</span></div>
  <div class="card" data-card="Roi"><span>Roi</span></div>
  <div class="card" data-card="Valet"><span>Valet</span></div>
  <div class="card" data-card="As"><span>As</span></div>
</div>

<div class="deck">
  <div id="top" class="hidden-card">Carte face cachÃ©e</div>
</div>

<div class="message" id="msg">Bienvenue ! Place ta mise et devine la carte du dessus.</div>

  </div>  <script>
    const CARDS=['Dame','Roi','Valet','As'];
    const minBet=1000;
    let playing=false;
    let topCard=null;
    let currentBet=0;

    const betEl=document.getElementById('bet');
    const msg=document.getElementById('msg');
    const topEl=document.getElementById('top');
    const startBtn=document.getElementById('start');
    const resetBtn=document.getElementById('reset');

    startBtn.onclick=()=>{
      const val=Math.floor(Number(betEl.value)||0);
      if(val<minBet){msg.textContent=`La mise minimale est ${minBet}.`;return;}
      currentBet=val;
      topCard=CARDS[Math.floor(Math.random()*CARDS.length)];
      playing=true;
      msg.textContent='Choisis ta carte !';
      topEl.className='hidden-card';
      topEl.textContent='Carte face cachÃ©e';
      toggleButtons(false);
    };

    resetBtn.onclick=()=>{
      playing=false;
      msg.textContent='Jeu rÃ©initialisÃ©.';
      topCard=null;
      topEl.className='hidden-card';
      topEl.textContent='Carte face cachÃ©e';
      toggleButtons(true);
    };

    document.getElementById('choices').onclick=e=>{
      const btn=e.target.closest('.card');
      if(!btn||!playing)return;
      const guess=btn.dataset.card;
      topEl.className='revealed';
      topEl.textContent=topCard; // Affiche toujours la rÃ©ponse
      if(guess===topCard){
        const gain=currentBet*2;
        msg.textContent=`Bravo ðŸŽ‰ ! C'Ã©tait ${topCard} ! Tu gagnes ${gain.toLocaleString()} !`;
      } else {
        msg.textContent=`Dommage ðŸ˜… C'Ã©tait ${topCard}. Tu perds ${currentBet.toLocaleString()}.`;
      }
      playing=false;
      toggleButtons(true);
      // La carte rÃ©vÃ©lÃ©e reste visible et ne disparaÃ®t jamais
    };

    function toggleButtons(disabled){
      document.querySelectorAll('.card').forEach(c=>{
        c.classList.toggle('disabled',disabled&&!playing);
      });
    }
  </script></body>
</html>